{"version":3,"file":"view.js","mappings":"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","sources":["webpack://image-tabs-block/./src/view.js"],"sourcesContent":["/* eslint-disable no-console */\nconsole.log( 'Hello World! (from create-block-image-tabs-block block)!' );\n\n/* eslint-enable no-console */\n\nclass TabsAutomatic {\n\tconstructor( groupNode ) {\n\t\tthis.tablistNode = groupNode;\n\n\t\tthis.tabs = [];\n\n\t\tthis.firstTab = null;\n\t\tthis.lastTab = null;\n\n\t\tthis.tabs = Array.from( this.tablistNode.querySelectorAll( '[role=tab]' ) );\n\t\tthis.tabPanels = [];\n\n\t\tfor ( let i = 0; i < this.tabs.length; i += 1 ) {\n\t\t\tconst tab = this.tabs[ i ];\n\t\t\tconst tabPanel = document.getElementById( tab.getAttribute( 'aria-controls' ) );\n\n\t\t\ttab.tabIndex = -1;\n\t\t\ttab.setAttribute( 'aria-selected', 'false' );\n\t\t\tthis.tabPanels.push( tabPanel );\n\n\t\t\ttab.addEventListener( 'keydown', this.onKeydown.bind( this ) );\n\t\t\ttab.addEventListener( 'click', this.onClick.bind( this ) );\n\n\t\t\tif ( ! this.firstTab ) {\n\t\t\t\tthis.firstTab = tab;\n\t\t\t}\n\t\t\tthis.lastTab = tab;\n\t\t}\n\n\t\tthis.setSelectedTab( this.firstTab, false );\n\t}\n\n\tsetSelectedTab( currentTab, setFocus ) {\n\t\tif ( typeof setFocus !== 'boolean' ) {\n\t\t\tsetFocus = true;\n\t\t}\n\t\tfor ( let i = 0; i < this.tabs.length; i += 1 ) {\n\t\t\tconst tab = this.tabs[ i ];\n\t\t\tif ( currentTab === tab ) {\n\t\t\t\ttab.setAttribute( 'aria-selected', 'true' );\n\t\t\t\ttab.removeAttribute( 'tabindex' );\n\t\t\t\tthis.tabPanels[ i ].classList.remove( 'is-hidden' );\n\t\t\t\tif ( setFocus ) {\n\t\t\t\t\ttab.focus();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttab.setAttribute( 'aria-selected', 'false' );\n\t\t\t\ttab.tabIndex = -1;\n\t\t\t\tthis.tabPanels[ i ].classList.add( 'is-hidden' );\n\t\t\t}\n\t\t}\n\t}\n\n\tsetSelectedToPreviousTab( currentTab ) {\n\t\tlet index;\n\n\t\tif ( currentTab === this.firstTab ) {\n\t\t\tthis.setSelectedTab( this.lastTab );\n\t\t} else {\n\t\t\tindex = this.tabs.indexOf( currentTab );\n\t\t\tthis.setSelectedTab( this.tabs[ index - 1 ] );\n\t\t}\n\t}\n\n\tsetSelectedToNextTab( currentTab ) {\n\t\tlet index;\n\n\t\tif ( currentTab === this.lastTab ) {\n\t\t\tthis.setSelectedTab( this.firstTab );\n\t\t} else {\n\t\t\tindex = this.tabs.indexOf( currentTab );\n\t\t\tthis.setSelectedTab( this.tabs[ index + 1 ] );\n\t\t}\n\t}\n\n\t/* EVENT HANDLERS */\n\tonKeydown( event ) {\n\t\tconst tgt = event.currentTarget;\n\t\tlet flag = false;\n\n\t\tswitch ( event.key ) {\n\t\t\tcase 'ArrowLeft':\n\t\t\t\tthis.setSelectedToPreviousTab( tgt );\n\t\t\t\tflag = true;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ArrowRight':\n\t\t\t\tthis.setSelectedToNextTab( tgt );\n\t\t\t\tflag = true;\n\t\t\t\tbreak;\n\n\t\t\tcase 'Home':\n\t\t\t\tthis.setSelectedTab( this.firstTab );\n\t\t\t\tflag = true;\n\t\t\t\tbreak;\n\n\t\t\tcase 'End':\n\t\t\t\tthis.setSelectedTab( this.lastTab );\n\t\t\t\tflag = true;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif ( flag ) {\n\t\t\tevent.stopPropagation();\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\tonClick( event ) {\n\t\tthis.setSelectedTab( event.currentTarget );\n\t}\n}\n\n// Initialize tabs.\nwindow.addEventListener( 'load', function() {\n\tconst tabLists = document.querySelectorAll(\n\t\t'[role=tablist].__image_tabs_block_tablist',\n\t);\n\n\tfor ( let i = 0; i < tabLists.length; i++ ) {\n\t\tnew TabsAutomatic( tabLists[ i ] );\n\t}\n} );\n"],"names":["console","log","TabsAutomatic","constructor","groupNode","tablistNode","tabs","firstTab","lastTab","Array","from","querySelectorAll","tabPanels","i","length","tab","tabPanel","document","getElementById","getAttribute","tabIndex","setAttribute","push","addEventListener","onKeydown","bind","onClick","setSelectedTab","currentTab","setFocus","removeAttribute","classList","remove","focus","add","setSelectedToPreviousTab","index","indexOf","setSelectedToNextTab","event","tgt","currentTarget","flag","key","stopPropagation","preventDefault","window","tabLists"],"sourceRoot":""}