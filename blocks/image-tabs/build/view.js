(()=>{"use strict";const t=class{constructor(t){this.containerNode=t,this.tablistNode=this.containerNode.querySelector("[role=tablist]"),this.tabs=Array.from(this.tablistNode.querySelectorAll("[role=tab]")),this.tabPanels=this.tabs.map((t=>this.containerNode.querySelector(`#${t.getAttribute("aria-controls")}`))),this.firstTab=this.tabs[0],this.lastTab=this.tabs[this.tabs.length-1],this.boundKeydownHandler=this.onKeydown.bind(this),this.boundClickHandler=this.onClick.bind(this),this.tabs.forEach((t=>{t.tabIndex=-1,t.setAttribute("aria-selected","false"),t.addEventListener("keydown",this.boundKeydownHandler),t.addEventListener("click",this.boundClickHandler)})),this.setSelectedTab(this.firstTab,!1)}removeEventListeners(){this.tabs.forEach((t=>{t.removeEventListener("keydown",this.boundKeydownHandler),t.removeEventListener("click",this.boundClickHandler)}))}setSelectedTab(t,e=!0){this.tabs.forEach(((s,i)=>{const a=this.tabPanels[i];t===s?(s.setAttribute("aria-selected","true"),s.removeAttribute("tabindex"),a.classList.remove("is-hidden"),e&&s.focus()):(s.setAttribute("aria-selected","false"),s.tabIndex=-1,a.classList.add("is-hidden"))}))}setSelectedToPreviousTab(t){if(t===this.firstTab)this.setSelectedTab(this.lastTab);else{const e=this.tabs.indexOf(t);this.setSelectedTab(this.tabs[e-1])}}setSelectedToNextTab(t){if(t===this.lastTab)this.setSelectedTab(this.firstTab);else{const e=this.tabs.indexOf(t);this.setSelectedTab(this.tabs[e+1])}}onKeydown(t){const e=t.currentTarget;let s=!1;switch(t.key){case"ArrowLeft":this.setSelectedToPreviousTab(e),s=!0;break;case"ArrowRight":this.setSelectedToNextTab(e),s=!0;break;case"Home":this.setSelectedTab(this.firstTab),s=!0;break;case"End":this.setSelectedTab(this.lastTab),s=!0}s&&(t.stopPropagation(),t.preventDefault())}onClick(t){this.setSelectedTab(t.currentTarget)}};window.addEventListener("load",(function(){document.querySelectorAll(".__automatic_image_tabs").forEach((e=>{new t(e)}))}))})();