(()=>{"use strict";const e=class{constructor(e){this.containerNode=e,this.tablistNode=this.containerNode.querySelector("[role=tablist]"),this.tabs=Array.from(this.tablistNode.querySelectorAll("[role=tab]")),this.tabPanels=this.tabs.map((e=>this.containerNode.querySelector(`#${e.getAttribute("aria-controls")}`))),this.firstTab=this.tabs[0],this.lastTab=this.tabs[this.tabs.length-1],this.boundKeydownHandler=this.onKeydown.bind(this),this.boundClickHandler=this.onClick.bind(this),this.tabs.forEach((e=>{e.tabIndex=-1,e.setAttribute("aria-selected","false"),e.addEventListener("keydown",this.boundKeydownHandler),e.addEventListener("click",this.boundClickHandler),console.log(`Added event listeners to tab ${e.id}`)})),this.setSelectedTab(this.firstTab,!1)}removeEventListeners(){this.tabs.forEach((e=>{e.removeEventListener("keydown",this.boundKeydownHandler),e.removeEventListener("click",this.boundClickHandler),console.log(`Removed event listeners from tab ${e.id}`)}))}setSelectedTab(e,t=!0){this.tabs.forEach(((s,i)=>{const a=this.tabPanels[i];e===s?(s.setAttribute("aria-selected","true"),s.removeAttribute("tabindex"),a.classList.remove("is-hidden"),t&&s.focus()):(s.setAttribute("aria-selected","false"),s.tabIndex=-1,a.classList.add("is-hidden"))}))}setSelectedToPreviousTab(e){if(e===this.firstTab)this.setSelectedTab(this.lastTab);else{const t=this.tabs.indexOf(e);this.setSelectedTab(this.tabs[t-1])}}setSelectedToNextTab(e){if(e===this.lastTab)this.setSelectedTab(this.firstTab);else{const t=this.tabs.indexOf(e);this.setSelectedTab(this.tabs[t+1])}}onKeydown(e){const t=e.currentTarget;let s=!1;switch(console.log("key event"),e.key){case"ArrowLeft":this.setSelectedToPreviousTab(t),s=!0;break;case"ArrowRight":this.setSelectedToNextTab(t),s=!0;break;case"Home":this.setSelectedTab(this.firstTab),s=!0;break;case"End":this.setSelectedTab(this.lastTab),s=!0}s&&(e.stopPropagation(),e.preventDefault())}onClick(e){this.setSelectedTab(e.currentTarget),console.log("clicked")}};window.addEventListener("load",(function(){document.querySelectorAll(".__automatic_image_tabs").forEach((t=>{new e(t)}))}))})();